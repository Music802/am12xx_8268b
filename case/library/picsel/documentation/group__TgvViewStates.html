<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>File Viewer Development Kit: View States and Bookmarks/Favourites</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="entwrx.css" rel="stylesheet" type="text/css"></head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="sot-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">File Viewer Development Kit
   &#160;<span id="projectnumber">trunk</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">View States and Bookmarks/Favourites</div>  </div>
</div><!--header-->
<div class="contents">
<p>ENTWRX supports bookmarking a document so users can reopen it later at the same point with the same viewing characteristics. The sum of these viewing characteristics is called a View State, and comprises:</p>
<ul>
<li>Document file name</li>
<li>Page number</li>
<li>Zoom scale</li>
<li>Pan position</li>
<li>Screen rotation,</li>
<li>full-screen on/off</li>
<li>Reflow on/off</li>
</ul>
<h1><a class="anchor" id="TgvGetViewState"></a>
Adding a Bookmark</h1>
<p>The Alien application receives a user request to create a bookmark and calls PicselControl_getViewState() to request the current View State. The current display state is notified by the SecureWrx library using a PicselControl_ViewListState structure to AlienEvent_information(). The bookmark information sent by ENTWRX is in the form of a structure PicselControl_ViewListState, comprising of a list of View States that have a particular rotation and full screen status. For a single document on screen this list will consist of a single View State. Each View State in the list records the URL, reflowmode status, zoom magnification value, page number, x/y pan position and the layout width.</p>
<p>The success or otherwise of calling PicselControl_getViewState() is reported using AlienEvent_information() with an event of type AlienInformation_GetViewStateResult and event data of structure AlienInformation_ViewStateInfo. This structure reports success using a type PicselControl_ViewStateResult element as well as supplying the View State data in PicselControl_ViewListState mentioned above.</p>
<p>It is the responsibility of the Alien application to record and manage this reported information, along with any other bookmark requests, so the user can retrieve specific bookmarked views later. This includes organisation and presentation to the user, along with any confirmation that bookmarks have been added. ENTWRX recommends that the Alien application makes no change to View State data apart from discarding it when no longer needed by the user.</p>
<h1><a class="anchor" id="TgvSetViewState"></a>
Moving to a Bookmark</h1>
<p>The Alien application receives a user request to move to a previously recorded bookmark and calls PicselControl_setViewState() with a definition of the required View State. This definition must contain all the information previously supplied by ENTWRX after a call of PicselControl_getViewState(). The request is queued and ENTWRX reports success or otherwise by sending an event of type AlienInformation_SetViewStateResult with event data of structure PicselControl_ViewStateResult. </p>
</div><!-- contents -->
<hr size="1"><address style="align: right;"><small>
<img src="securewrx-logo-small.png" align=right>
Copyright &copy; <a href="http://www.entwrx.com/">ENTWRX Ltd</a> 2014.
All rights reserved.
Generated on Thu Jul 2 2015 for File Viewer Development Kit trunk by
<a href="http://www.doxygen.org/">Doxygen</a>.</small></address>
<!-- Footer $Id: doxy-footer.html,v 1.4.10.1 2014/06/06 11:55:46 andrews Exp $ -->
</body>
</html>
